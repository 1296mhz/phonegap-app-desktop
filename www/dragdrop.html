<!DOCTYPE html>
<html>
  <head>
    <title>PhoneGap</title>
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <script type="text/javascript" src="js/index.js"></script>
  </head>
  <body>
    <div id="app">
        
        <div id="drop_zone">Drop files here</div>
        <output id="list"></output>

        <script>
          function handleFileSelect(evt) {
            evt.stopPropagation();
            evt.preventDefault();

            var files = evt.dataTransfer.files; // FileList object.

            // files is a FileList of File objects. List some properties.
            var output = [];
            for (var i = 0, f; f = files[i]; i++) {
              output.push('<li><strong>', escape(f.name), '</strong> (', f.type || 'n/a', ') - ',
                          f.size, ' bytes, last modified: ',
                          f.lastModifiedDate ? f.lastModifiedDate.toLocaleDateString() : 'n/a',
                          '</li>');
            }
            document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
          }

          function handleDragOver(evt) {
            evt.stopPropagation();
            evt.preventDefault();
            evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
          }

          // Setup the dnd listeners.
          var dropZone = document.getElementById('drop_zone');
          dropZone.addEventListener('dragover', handleDragOver, false);
          //dropZone.addEventListener('drop', handleFileSelect, false);
          //var dropzone = document.getElementById('dropzone');
          //dropzone.ondrop = function(e) { 
              
            dropZone.addEventListener('drop', handleDrop, false);
            
            function handleDrop(e) {  
              
            e.stopPropagation();
            e.preventDefault();
                    
            var length = e.dataTransfer.items.length;
            for (var i = 0; i < length; i++) {
              var entry = e.dataTransfer.items[i].webkitGetAsEntry();
              if (entry.isFile) {
                console.log("file");
                alert("file");
              } else if (entry.isDirectory) {
                console.log("folder");
                alert("folder");
              }
            }
          };
        </script>
        
    </div>
  </body>
</html>
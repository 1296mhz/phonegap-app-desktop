<!DOCTYPE html>
<html>
  <head>
    <title>PhoneGap</title>
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <link rel='stylesheet' type='text/css' href='icon/icomatic.css'>
    <link rel="stylesheet" type="text/css" href="css/topcoat-desktop-light.min.css">
    <link rel="stylesheet" type="text/css" href="css/topcoat-overlay.min.css">
    <script type="text/javascript" src="js/jquery-2.0.3.min.js"></script> 
    <script type='text/javascript' src='icon/icomatic.js'></script>
    <script type='text/javascript' src='js/index.js'></script>
    <script type="text/javascript" src="js/footer-handlers.js"></script>
    <script type="text/javascript" src="js/drag-n-drop-handlers.js"></script>
    <script type="text/javascript" src="js/project-create-open-handlers.js"></script>
    <script type="text/javascript" src="js/project-widget.js"></script>
    <script type="text/javascript" src="js/database.js"></script>
    <script type='text/javascript'>   
           
        global.pgServer = require("connect-phonegap"); 
        global.pgVersion = "3.3.0";  
        global.jQuery = jQuery;
        global.createClicked = false;
        global.db = null;
        
        global.jQuery(document).ready(function() {
            
            openDBConnection();
            
            global.jQuery("#projectDirectory").hide();
            global.jQuery("#createOpenProjectOverlay").hide();
            
            global.jQuery("#drop_zone").on("drop", handleDrop);
            global.jQuery("#drop_zone").on("dragover", handleDragOver);
            
            global.jQuery("#createProject").click(createProject);
            global.jQuery("#openProject").click(openProject);
            global.jQuery("#projectDirectory").change(selectDirectory);
            
            global.jQuery("#cancelCreateOpen").click(function() {
                global.jQuery("#createOpenProjectOverlay").hide();
            });
            
            global.jQuery("#plus").click(addProjectOverlay);
            global.jQuery("#minus").click(removeProjectOverlay);
            global.jQuery("#server-status").click(toggleServerStatus);
        });
          
    </script>
    <style>
        .border {
            border: 2px solid black;
            width: 90%;
            height: 90%;
        }
    </style>
  </head>
  <body>
    <header></header>
    <aside id="createOpenProjectOverlay" class="topcoat-overlay">
        <button id="createProject" class="topcoat-button">Create New Project</button>
        <br>
        <button id="openProject" class="topcoat-button">Open Existing Project</button>
        <br>
        <button id="cancelCreateOpen" class="topcoat-button">Cancel</button>
    </aside>
    <article>
        <div id="drop_zone" class="border">Drop files here</div>
        <div id="projectFolder"></div>
        <input type="file" id="projectDirectory" nwdirectory>
    </article>
    <footer>
      <nav class="left">
        <div id="app-action-bar" class="topcoat-button-bar">
          <div class="topcoat-button-bar__item">
            <button id="plus" class="topcoat-button-bar__button--large">
              <span class='icomatic'>plus</span>
            </button>
          </div>
          <div class="topcoat-button-bar__item">
            <button id="minus" class="topcoat-button-bar__button--large">
              <span class='icomatic'>minus</span>
            </button>
          </div>
          <div class="topcoat-button-bar__item">
            <button id="settings" class="topcoat-button-bar__button--large">
              <span class='icomatic'>settings</span>
            </button>
          </div>
        </div>
        <div class="status-field">
          <input type="checkbox" id="server-status" />
          <label for="server-status" id="server-status-label">Server is offline</label>
        </div>
      </nav>
      <nav class="topcoat-button-bar right">
        <button class="topcoat-icon-button--large--quiet">
          <span class="topcoat-icon--large icomatic">listview</span>
        </button>
      </nav>
    </footer>
  </body>
</html>
